version: '2'

services:
  steamcmd:
    container_name: steamcmd
    image: dantebarba/steamcmd-hlds:latest
    restart: unless-stopped
    command: ./hlds_run -game cstrike -autoupdate +port 27015 +maxplayers 12 +map de_dust2 +rcon_password 1A2B3C4E +sv_lan 0 +developer 3 +log on +developer 3 +log on +exec server.cfg
    volumes:
      - "./server.cfg:/home/steam/hlds/cstrike/server.cfg"
      - "./liblist.gam:/home/steam/hlds/cstrike/liblist.gam"
      - "./addons:/home/steam/hlds/cstrike/addons"
    ports:
      - 27015:27015/tcp
      - 27015:27015/udp